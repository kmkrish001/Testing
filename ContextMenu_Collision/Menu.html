<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Essential JS 1: Menu - context menu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="utf-8" />
    <link href="https://cdn.syncfusion.com/18.4.0.30/js/web/flat-azure/ej.web.all.min.css" rel="stylesheet" />
    <!--[if lt IE 9]>
	<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script> 
	<![endif]-->
    <!--[if IE 9]><!-->
        <script src="scripts/jquery-3.4.1.min.js" type="text/javascript"></script>
    <!--<![endif]--> 
    <script src="scripts/ej.core.js"></script>
    <script src="scripts/ej.data.js"></script>
    <script src="scripts/ej.scroller.js"></script>
    <script src="scripts/ej.draggable.js"></script>
    <script src="scripts/ej.globalize.js"></script>
    <script src="scripts/ej.button.js"></script>
    <script src="scripts/ej.menu.js"></script>
</head>
<body>
    <div style = "padding-right: 50px" id="contextmenuContainer">
		<button id='menubutton' style="border-color: black;float: right;">Context Menu Button</button>
		<ul id="context_Menu"></ul>
	</div>
    
    <script type="text/javascript">
var data = [
            //first level child
            { id: 'item1', parentId: null, text: "Total" },
            { id: 'item2', parentId: null, text: "Group" },
            { id: 'item3', parentId: null, text: "Delete Group" },
			{ id: 'item11', parentId: 'item1', text: "Before" },
			{ id: 'item12', parentId: 'item1', text: "After" },
			{ id: 'item22', parentId: 'item2', text: "Parent Group..." },
			{ id: 'item23', parentId: 'item2', text: "Child Group..." }
        ];
        jQuery(function ($) {
            
            $("#context_Menu").ejMenu({
				openOnClick: false,
				//subMenuDirection: 'right',
				menuType: ej.MenuType.ContextMenu,
               // fields: { dataSource: data, id: "id", parentId: "parentId", text: "text" },
            });
			$("#menubutton").click(function () {
				$("#context_Menu").data('ejMenu').setModel({'fields': { dataSource: data, id: "id", parentId: "parentId", text: "text" }});
				//menuObj = $("#context_Menu").ejMenu("instance");
              //  menuObj.show($('#menubutton').offset().left, $('#menubutton').offset().top + 30, $('#menubutton'), event);
                if(!$("#context_Menu").is(':visible')) {
					$("#context_Menu").data('ejMenu').show($('#menubutton').offset().left,$('#menubutton').offset().top + 30, $('#menubutton'), event);
				} else {
					$("#context_Menu").data('ejMenu').hide()
				}
			});
        });
    </script>
    <style type="text/css">
        .textarea {
            border: 1px solid;
            padding: 10px;
            position: relative;
            text-align: justify;
            width: 463px;
            color: gray;
        }
    </style>
</body>
</html>
